(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{178:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,6874,23)),Promise.resolve().then(n.bind(n,3970))},3970:(e,t,n)=>{"use strict";n.d(t,{default:()=>d});var r=n(5155),a=n(2115),l=n(5695),i=n(5329),s=n.n(i);n(6874);var c=n(4690);function o(e){let{direction:t}=e;return(0,r.jsx)(c.P.div,{animate:{x:null===t?0:t?"100vw":"-100vw"},transition:{duration:1.32,ease:"easeIn"},className:"absolute h-screen right-1/4 top-0 pb-24   translate-x-1/2 z-10 flex items-center   text-center pointer-events-none",children:(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsx)("h2",{className:"select-none text-black font-bold text-2xl pointer-events-none z-1",children:"سلول خورشیدی"}),(0,r.jsx)(c.P.div,{animate:{scale:[1,1.2,1],opacity:[.7,1,.7]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"absolute right-1/2 top-0 w-32 h-32 rounded-full blur-[0.4rem] z-10    translate-x-3/4 -translate-y-5/4 pointer-events-none",style:{background:"radial-gradient(circle, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0) 70%)",boxShadow:"0 0 40px 10px rgba(255, 255, 255, 0.4)"}}),(0,r.jsx)(c.P.div,{initial:{opacity:.2,scale:1,rotateX:180,skewX:18,x:-92},animate:{opacity:[.2,.5,.2],scale:[1,1.05,1],rotateX:180,skewX:18,x:-92},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"select-none absolute z-0 pointer-events-none text-black font-bold text-2xl",style:{top:"45px",left:"50%",minWidth:"151px",opacity:.3,filter:"blur(1px)"},children:(0,r.jsx)("div",{children:"سلول خورشیدی"})})]})})}function u(e){let{direction:t}=e,[n,l]=(0,a.useState)(12),[i,s]=(0,a.useState)([]),o=(0,a.useRef)(null),u=()=>Array.from({length:50},(e,t)=>({id:t,x:110*Math.random()-55,delay:4*Math.random(),duration:4+3*Math.random()}));return(0,a.useEffect)(()=>{s(u());let e=setInterval(()=>{l(Math.floor(30*Math.random())),s(u())},4e3);return()=>clearInterval(e)},[]),(0,r.jsx)(c.P.div,{animate:{x:null===t?0:t?"100vw":"-100vw"},transition:{duration:1.2,ease:"easeIn"},className:"absolute top-0 left-1/4 -translate-x-1/2 z-30 pointer-events-none    h-screen pb-24",style:{position:"absolute",willChange:"transform"},children:(0,r.jsx)("div",{ref:o,className:"relative w-28 h-full flex overflow-hidden   items-center justify-center pointer-events-none",children:(0,r.jsxs)("div",{className:"relative w-full h-full",children:[(0,r.jsx)("div",{className:"absolute w-[112px] h-full bg-white/30 pointer-events-none z-10",style:{left:"50%",transform:"translateX(-50%)"}}),i.map(e=>{let{id:t,x:n,delay:a,duration:l}=e;return(0,r.jsx)(c.P.div,{className:"absolute bg-white rounded-full",style:{width:2,height:2,left:"calc(50% + ".concat(n,"px)"),top:"100%",filter:"blur(0.5px)"},animate:{top:"-5%",opacity:[.3,.8,.3]},transition:{delay:a,duration:l,repeat:1/0,ease:"linear"}},t)}),(0,r.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2",children:(0,r.jsxs)("div",{className:"relative z-20 font-bold text-white  select-none",children:[(0,r.jsx)("h2",{className:"select-none text-white font-bold text-2xl pointer-events-none",children:"سنسور"}),(0,r.jsxs)("div",{className:"absolute z-20 bottom-full left-1/2 text-2xl font-semibold transition-colors duration-300 ".concat(n>=20?"text-red-500":"text-white"),style:{transform:"translate(-50%, -50%)"},children:[n,"%"]})]})})]})})})}function d(){let e=(0,l.useRouter)(),t=(0,a.useRef)(null),n=(0,a.useRef)(null),i=(0,a.useRef)(0),c=(0,a.useRef)(0),[d,f]=(0,a.useState)(!1),[h,v]=(0,a.useState)(!1),x=(0,a.useRef)(!1),m=(0,a.useRef)("/sensors/"),[p,_]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(!t.current)return;e.prefetch("/sensors/"),e.prefetch("/solar-panels/");let r=()=>{if(!t.current)return;let{clientWidth:e,clientHeight:a}=t.current,l=e>600?.0055*e:.009*e,s=e>600?.026:.04,c=["M ".concat(e," 0"),...Array.from({length:30},(t,n)=>{let r=a/29*n,s=e/2+l*Math.sin(.01*r+i.current);return"L ".concat(s," ").concat(r)}),"L ".concat(e/2," ").concat(a," L ").concat(e," ").concat(a," Z")].join(" ");if(null==n.current)return;let o=["M 0 ".concat(a/5*4+l*Math.sin(.01*e/60+i.current)),...Array.from({length:30},(t,n)=>{let r=e/60*n+(0!==n)*l*Math.sin(a/100*(80-n)*.01+i.current),s=a/100*(80-n)+l*Math.sin(.01*e/60*n+i.current);return"L ".concat(r," ").concat(s)}),"L ".concat(e/2+l*Math.sin(.01*a/2+i.current)),"".concat(a/2+l*Math.sin(.01*e/2+i.current)," "),...Array.from({length:30},(t,n)=>{let r=e/60*(n+31)+(29!==n)*l*Math.sin(a/100*(51+n)*.01+i.current),s=a/100*(51+n)+l*Math.sin(.01*e/60*(n+31)+i.current);return"L ".concat(r," ").concat(s)}),"L ".concat(e," ").concat(a/5*4+l*Math.sin(.01*e+i.current)),"L ".concat(e," ").concat(a," L 0 ").concat(a)].join(" ");n.current.style.clipPath="path('".concat(o,"')"),t.current.style.clipPath="path('".concat(c,"')"),(i.current+=s)>2*Math.PI*1e3&&(i.current=0),requestAnimationFrame(r)};return c.current=requestAnimationFrame(r),()=>cancelAnimationFrame(c.current)},[]);let b=async r=>{if(r.preventDefault(),null==t.current||null==n.current||x.current)return;x.current=!0;let a=r.target===t.current,l=r.target===n.current,{clientWidth:o,clientHeight:u}=t.current,d=.009*o;t.current.style.clipPath="polygon(50% 0, 100% 0, 100% 100%, 50% 100%)",n.current.style.clipPath="polygon(0 80%,0% 100%, 100% 100%, 100% 80%,\n    ".concat(o/2+d*Math.sin(u/29*.098+i.current),"px ").concat(u/29*14,"px,\n    ").concat(o/2+d*Math.sin(u/29*.098+i.current),"px ").concat(u/29*14,"px ) "),cancelAnimationFrame(c.current),t.current.offsetWidth,a?(f(!0),_(!1),n.current.classList.add(s().removeTriangleSolar)):l?n.current.classList.add(s().expandTriangle):(v(!0),_(!0),n.current.classList.add(s().removeTriangleSensor)),l&&(m.current="/third-side/"),a&&!l&&(m.current="/solar-cells/modules?pageFrom=home"),await new Promise(e=>setTimeout(e,500)),await new Promise(e=>{null!=t.current&&t.current.addEventListener("transitionend",e,{once:!0})}),e.push(m.current),x.current=!1};return(0,r.jsxs)("div",{className:s().homeAnimationContainer,"aria-hidden":"true",children:[(0,r.jsx)("div",{className:"".concat(s().choiceText," absolute left-1/2 -translate-x-1/2 pointer-events-none\n    top-28 z-10 text-lg md:text-xl ").concat(null!==p?p?"translate-x-[100vw] transition-transform duration-1500 ease-in":"-translate-x-[100vw] transition-transform duration-1500 ease-in":""),children:"انتخاب با تو، فناوری با ما!"}),(0,r.jsx)("div",{className:s().sensorSideBack,onClick:b}),(0,r.jsx)(u,{direction:p}),(0,r.jsx)("div",{ref:t,className:"".concat(s().solarSideFront," ").concat(d?s().expandFull:""," ").concat(h?s().shrinkFull:""),onClick:b}),(0,r.jsx)(o,{direction:p}),(0,r.jsx)("div",{style:{display:"none"},ref:n,onClick:b})]})}},5329:e=>{e.exports={homeAnimationContainer:"WaveDivider_homeAnimationContainer__QWf2j",sensorSideBack:"WaveDivider_sensorSideBack__LmEtl",solarSideFront:"WaveDivider_solarSideFront__sBBat",triangleSide:"WaveDivider_triangleSide__X5J2t",expandFull:"WaveDivider_expandFull__gcX8S",shrinkFull:"WaveDivider_shrinkFull__xw_J4",removeTriangleSolar:"WaveDivider_removeTriangleSolar__95PhL",removeTriangleSensor:"WaveDivider_removeTriangleSensor__L_FWX",expandTriangle:"WaveDivider_expandTriangle__BllX_",choiceText:"WaveDivider_choiceText__21vrP",infiniteTranslate:"WaveDivider_infiniteTranslate__wBtr1"}},6654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return a}});let r=n(2115);function a(e,t){let n=(0,r.useRef)(null),a=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=n.current;e&&(n.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(n.current=l(e,r)),t&&(a.current=l(t,r))},[e,t])}function l(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let n=e(t);return"function"==typeof n?n:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}},e=>{var t=t=>e(e.s=t);e.O(0,[670,874,740,441,684,358],()=>t(178)),_N_E=e.O()}]);